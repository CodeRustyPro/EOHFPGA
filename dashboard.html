<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard | Monte Carlo FPGA</title>
  <meta name="description" content="Interactive Monte Carlo simulation dashboard. FPGA vs CPU performance visualization.">
  <meta property="og:title" content="Dashboard | Monte Carlo FPGA">
  <meta property="og:description" content="Real-time Monte Carlo simulation dashboard comparing FPGA and CPU performance.">
  <meta property="og:type" content="website">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap"></noscript>
  <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>
  <a class="skip-link" href="#dashboard-main">Skip to dashboard</a>

  <!-- Ambient background effects -->
  <canvas class="ambient-canvas" id="ambientCanvas" aria-hidden="true"></canvas>
  <div class="grid-overlay" aria-hidden="true"></div>

  <!-- ========== NAVBAR ========== -->
  <nav class="dash-navbar" id="navbar">
    <div class="dash-nav-container">
      <a href="index.html" class="dash-nav-logo">
        <svg class="logo-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <rect x="3" y="3" width="18" height="18" rx="3" stroke="currentColor" stroke-width="1.5"/>
          <rect x="7" y="7" width="4" height="4" rx="0.5" fill="#f59e0b" opacity="0.6"/>
          <rect x="13" y="7" width="4" height="4" rx="0.5" fill="#f59e0b" opacity="0.3"/>
          <rect x="7" y="13" width="4" height="4" rx="0.5" fill="#f59e0b" opacity="0.3"/>
          <rect x="13" y="13" width="4" height="4" rx="0.5" fill="#f59e0b" opacity="0.6"/>
        </svg>
        MonteCarlo<span class="logo-accent">FPGA</span>
      </a>
      <ul class="dash-nav-links">
        <li><a href="index.html">About</a></li>
        <li><a href="dashboard.html" class="active">Dashboard</a></li>
      </ul>
    </div>
  </nav>

  <!-- ========== STATE 1: IDLE / INPUT ========== -->
  <section class="dash-idle" id="dash-idle" role="region" aria-label="Simulation Input">
    <div class="dash-idle-content">
      <div class="idle-glow" aria-hidden="true"></div>
      <h1 class="idle-title">
        <span class="idle-title-line">Monte Carlo</span>
        <span class="idle-title-line idle-title-accent">Simulation Engine</span>
      </h1>
      <p class="idle-subtitle">Select a ticker. Watch the FPGA obliterate the CPU.</p>
      <form class="idle-form" id="sim-form" aria-label="Simulation parameters">
        <div class="idle-form-row">
          <div class="idle-select-wrap">
            <label for="ticker-select" class="sr-only">Stock Ticker</label>
            <select id="ticker-select" class="idle-select">
              <option value="SPY">SPY</option>
              <option value="AAPL">AAPL</option>
              <option value="TSLA">TSLA</option>
              <option value="NVDA">NVDA</option>
            </select>
            <svg class="select-chevron" width="12" height="8" viewBox="0 0 12 8" fill="none" aria-hidden="true">
              <path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <button type="submit" class="idle-run-btn" id="run-btn">
            <span class="run-btn-text">Run Simulation</span>
            <svg class="run-btn-arrow" width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true">
              <path d="M3 8H13M9 4L13 8L9 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
        <div class="idle-params">
          <span class="idle-param">100,000 paths</span>
          <span class="idle-param-dot"></span>
          <span class="idle-param">GBM simulation</span>
          <span class="idle-param-dot"></span>
          <span class="idle-param">FPGA accelerated</span>
        </div>
      </form>
    </div>
  </section>

  <!-- ========== STATE 2: PROCESSING ========== -->
  <div class="dash-processing" id="dash-processing" role="status" aria-live="polite" aria-label="Simulation running" hidden>
    <canvas class="warp-canvas" id="warpCanvas" aria-hidden="true"></canvas>
    <div class="processing-center">
      <div class="processing-ring" aria-hidden="true">
        <svg width="80" height="80" viewBox="0 0 80 80">
          <circle cx="40" cy="40" r="36" fill="none" stroke="rgba(245,158,11,0.1)" stroke-width="2"/>
          <circle class="processing-ring-arc" cx="40" cy="40" r="36" fill="none" stroke="#f59e0b" stroke-width="2" stroke-linecap="round" stroke-dasharray="60 166"/>
        </svg>
      </div>
      <p class="processing-label">Simulating<span class="processing-dots"></span></p>
    </div>
  </div>

  <!-- ========== STATE 3: RESULTS DASHBOARD ========== -->
  <main class="dash-results" id="dashboard-main" hidden>

    <!-- TOP BAR -->
    <header class="dash-topbar">
      <div class="dash-container dash-topbar-inner">
        <div class="dash-topbar-left">
          <span class="dash-ticker" id="result-ticker">SPY</span>
          <span class="dash-price" id="result-price">$190.17</span>
          <span class="dash-badge dash-badge-live" aria-label="Simulation complete">
            <span class="live-dot"></span>
            Complete
          </span>
        </div>
        <div class="dash-topbar-right">
          <div class="dash-timing dash-timing-fpga" aria-label="FPGA computation time">
            <span class="timing-chip">FPGA</span>
            <span class="timing-val" id="fpga-time">150ms</span>
          </div>
          <div class="dash-timing dash-timing-cpu" aria-label="CPU computation time">
            <span class="timing-chip">CPU</span>
            <span class="timing-val" id="cpu-time">2,250ms</span>
          </div>
          <button class="dash-rerun-btn" id="rerun-btn" aria-label="Run simulation again">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true">
              <path d="M2 8a6 6 0 1 1 1.5 3.96" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M2 12V8.5H5.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Run Again
          </button>
        </div>
      </div>
    </header>

    <!-- ROW 1: HERO METRICS -->
    <section class="dash-section" aria-label="Key metrics">
      <div class="dash-container">
        <div class="dash-metrics" id="metrics-row">
          <!-- Populated by JS -->
        </div>
      </div>
    </section>

    <!-- ROW 2: PRIMARY CHARTS -->
    <section class="dash-section" aria-label="Primary charts">
      <div class="dash-container">
        <div class="dash-grid dash-grid-2">
          <article class="dash-card dash-card-lg">
            <div class="dash-card-head">
              <h2 class="dash-card-title">Simulated Price Paths</h2>
              <span class="dash-card-sub" id="paths-subtitle">35 sample paths &middot; 252 days</span>
            </div>
            <div class="dash-card-body dash-chart-wrap" id="chart-price-paths" role="img" aria-label="Monte Carlo simulated stock price paths over 252 trading days"></div>
          </article>
          <article class="dash-card dash-card-lg">
            <div class="dash-card-head">
              <h2 class="dash-card-title">Final Price Distribution</h2>
              <span class="dash-card-sub">FPGA <span class="legend-dot legend-fpga"></span> vs CPU <span class="legend-dot legend-cpu"></span></span>
            </div>
            <div class="dash-card-body dash-chart-wrap" id="chart-histogram" role="img" aria-label="Histogram comparing FPGA and CPU final price distributions"></div>
          </article>
        </div>
      </div>
    </section>

    <!-- ROW 3: SECONDARY CHARTS -->
    <section class="dash-section" aria-label="Secondary charts">
      <div class="dash-container">
        <div class="dash-grid dash-grid-2">
          <article class="dash-card">
            <div class="dash-card-head">
              <h2 class="dash-card-title">Drawdown Distribution</h2>
              <span class="dash-card-sub">Days spent below starting price</span>
            </div>
            <div class="dash-card-body dash-chart-wrap" id="chart-drawdown" role="img" aria-label="Bar chart showing distribution of drawdown recovery periods"></div>
          </article>
          <article class="dash-card">
            <div class="dash-card-head">
              <h2 class="dash-card-title">FPGA vs CPU</h2>
              <span class="dash-card-sub">Execution time comparison</span>
            </div>
            <div class="dash-card-body dash-chart-wrap" id="chart-performance" role="img" aria-label="Performance comparison between FPGA and CPU execution"></div>
          </article>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="dash-footer">
      <div class="dash-container dash-footer-inner">
        <span>&copy; 2026 MonteCarlo FPGA &middot; UIUC ECE</span>
        <span>IEEE Engineering Open House</span>
      </div>
    </footer>
  </main>

  <!-- D3.js from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js"></script>
  <!-- Dashboard app (ES modules) -->
  <script type="module" src="js/dashboard/app.js"></script>
</body>
</html>
